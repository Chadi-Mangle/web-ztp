<div class="container">
    <div class="navigation">
        <div class="logo-container">
            <div class="logo-icon">
                <ion-icon name="layers-outline"></ion-icon>
            </div>
            <span class="title"> Votre configuration ZTP </span>
        </div>

        <ul>
            <li class="{% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                <a href="/dashboard">
                    <div class="icon-container">
                        <span class="icon">
                            <ion-icon name="home-outline"></ion-icon>
                        </span>
                    </div>
                    <span class="title"> Accueil </span>
                </a>
                <span class="tooltip">Accueil</span>
            </li>

            <li class="{% if request.resolver_match.url_name == 'devices' %}active{% endif %}">
                <a href="/devices">
                    <div class="icon-container">
                        <span class="icon">
                            <ion-icon name="desktop-outline"></ion-icon>
                        </span>
                    </div>
                    <span class="title"> Mes appareils </span>
                </a>
                <span class="tooltip">Mes appareils</span>
            </li>

            <li class="{% if request.resolver_match.url_name == 'config' %}active{% endif %}">
                <a href="/config">
                    <div class="icon-container">
                        <span class="icon">
                            <ion-icon name="build-outline"></ion-icon>
                        </span>
                    </div>
                    <span class="title"> Configurer un appareil </span>
                </a>
                <span class="tooltip">Configurer</span>
            </li>

            <li class="{% if request.resolver_match.url_name == 'help' %}active{% endif %}">
                <a href="/help">
                    <div class="icon-container">
                        <span class="icon">
                            <ion-icon name="help-outline"></ion-icon>
                        </span>
                    </div>
                    <span class="title"> Aide </span>
                </a>
                <span class="tooltip">Aide</span>
            </li>

            <li>
                <a href="https://chadi-mangle.github.io/web-ztp/" target="_blank">
                    <div class="icon-container">
                        <span class="icon">
                            <ion-icon name="book-outline"></ion-icon>
                        </span>
                    </div>
                    <span class="title"> Documentation </span>
                </a>
                <span class="tooltip">Documentation</span>
            </li>

            {% if user.is_authenticated %}
                <li class="{% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
                    <a href="{% url 'auth:profile' %}">
                        <div class="icon-container">
                            <span class="icon">
                                <ion-icon name="person-outline"></ion-icon>
                            </span>
                        </div>
                        <span class="title"> Profil </span>
                    </a>
                    <span class="tooltip">Profil</span>
                </li>

                <li>
                    <a href="{% url 'auth:logout' %}">
                        <div class="icon-container">
                            <span class="icon">
                                <ion-icon name="log-out-outline"></ion-icon>
                            </span>
                        </div>
                        <span class="title"> Se déconnecter </span>
                    </a>
                    <span class="tooltip">Se déconnecter</span>
                </li>
            {% else %}
                <li>
                    <a href="{% url 'auth:login' %}">
                        <div class="icon-container">
                            <span class="icon">
                                <ion-icon name="log-in-outline"></ion-icon>
                            </span>
                        </div>
                        <span class="title"> Se connecter </span>
                    </a>
                    <span class="tooltip">Se connecter</span>
                </li>

                <li>
                    <a href="{% url 'auth:register' %}">
                        <div class="icon-container">
                            <span class="icon">
                                <ion-icon name="person-add-outline"></ion-icon>
                            </span>
                        </div>
                        <span class="title"> S'inscrire </span>
                    </a>
                    <span class="tooltip">S'inscrire</span>
                </li>
            {% endif %}
        </ul>
    </div>
</div>

<div class="user-menu">
    {% if user.is_authenticated %}
        <div class="user-info">
            <span class="user-name">
                <i class="fas fa-user-circle me-2"></i>
                {{ user.username }}
            </span>
            <a href="{% url 'auth:logout' %}" class="logout-btn" title="Se déconnecter">
                <i class="fas fa-sign-out-alt"></i>
            </a>
        </div>
    {% else %}
        <div class="auth-buttons">
            <a href="{% url 'auth:login' %}" class="auth-btn" title="Se connecter">
                <i class="fas fa-sign-in-alt"></i>
            </a>
            <a href="{% url 'auth:register' %}" class="auth-btn" title="S'inscrire">
                <i class="fas fa-user-plus"></i>
            </a>
        </div>
    {% endif %}
</div>
